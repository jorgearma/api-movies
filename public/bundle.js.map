{"version":3,"file":"bundle.js","sources":["../src/fetchgeneros.js","../src/obtenergenero.js","../src/fetchpopulares.js","../src/cargartitulos.js","../src/cargargneros.js","../src/lisenerfiltrofijo.js","../src/index.js"],"sourcesContent":["//obtenemos los generos con su id y nombre\nconst fetchgeneros = async (filtro = 'movie') => {\n    //comprovamos que valor tiene el filtro\n    const tipo = filtro === 'movie' ? 'movie' : 'tv';\n\n    const url = `https://api.themoviedb.org/3/genre/${tipo}/list?api_key=3920b5092f07054465522c38a24bcee3&include_adult=false&include_video=false&language=en-US&page=1&sort_by=popularity.desc`\n\n    try{\n        const respuesta = await fetch(url);\n        const datos = await respuesta.json();\n        return datos.genres;\n\n    }catch(error){\n        console.log(error);\n    }\n    \n\n}\n\nexport default fetchgeneros;","const obtenergenero = (id, generos) => {\n    let genero;\n    // comprobamos el id del elmento con el id de la pelicula\n    generos.forEach((elemento) => {\n        if(id === elemento.id){\n        genero = elemento.name;\n        }\n    });\n    return genero\n}\n\nexport default obtenergenero","import fetchgeneros from \"./fetchgeneros\";\nimport obtenergenero from \"./obtenergenero\";\n\nconst fechtpopulares = async(filtro = 'movie') =>{\n    const tipo = filtro === 'movie' ? 'movie' : 'tv';\n\n    const url = `https://api.themoviedb.org/3/${tipo}/popular?api_key=3920b5092f07054465522c38a24bcee3&include_adult=false&include_video=false&language=en-US&page=1&sort_by=popularity.desc`\n\n    try{\n        //obtenemos las peliculas\n        const respuesta = await fetch(url);\n        const datos = await respuesta.json();\n        const resultados = datos.results;\n\n        const generos = await fetchgeneros();\n        \n        resultados.forEach((resultado) => {\n            //obtenemso el genero de cada pelicula y le ponemos en una nueva propieda\n            resultado.genero = obtenergenero(resultado.genre_ids[0],generos )\n\n        });\n\n        return   resultados;\n\n\n    }catch(error){\n        console.log(error);\n    }\n}\n\nexport default fechtpopulares;\n\n\n//hacemos la peticion a la api","const cargartitulos = (resultados) =>{\n\n    //selecionamos el contenedor\n    const contenedor = document.querySelector('#populares .main__grid');\n    //reiniciamos el contenedor antes de cargar el siguiente\n    contenedor.innerHTML = '';\n    \n    //creamos una plantilla por cada resultado de fetchpopulares.js\n    resultados.forEach((resultado) => {\n\n        const plantilla = `\n    <div class=\"main__media\">\n        <a href=\"#\" class=\"main__media-thumb\">\n            <img class=\"main__media-img\" src=\"https://image.tmdb.org/t/p/w500/${resultado.poster_path\n            }\" alt=\"\" />\n        </a>\n        <p class=\"main__media-titulo\">${resultado.title}</p>\n        <p class=\"main__media-fecha\">${resultado.genero}</p>\n    </div>\n    `;\n\n    //insertamos la plantilla en el DOM\n    contenedor.insertAdjacentHTML('beforeend', plantilla);\n    });\n\n    \n};\nexport default cargartitulos;","import fetchgeneros from \"./fetchgeneros\";\n\nconst contenedorgenero = document.getElementById('filtro-generos');\n\n//cargarmos los botones de genero\nconst cargargeneros = async(filtro) => {\n    //tremos los generos y con filtro entro movi o tv\n     const generos = await fetchgeneros(filtro);            \n     //eliminamos los botones para cargar los nuevos\n     contenedorgenero.innerHTML = '',\n     \n     generos.forEach((genero) => {                          //creamos un botton por cada uno con forEach  \n            const btn = document.createElement('button')\n            btn.classList.add('btn');\n            btn.innerText = genero.name;\n            btn.setAttribute('data-id', genero.id);\n\n            contenedorgenero.appendChild(btn)             //aqui aderimos el boton al DOM\n            \n        });\n    }   \n\nexport default cargargeneros","import cargargeneros from \"./cargargneros\";\nimport cargartitulos from \"./cargartitulos\";\nimport fechtpopulares from \"./fetchpopulares\";\n\nconst filtropelicula = document.getElementById('movie')\nconst filtroserie =  document.getElementById('tv')\n\n\nfiltropelicula.addEventListener('click', async(e) =>{\n    e.preventDefault();\n    //cargamos en barra lateral los generos\n    cargargeneros('movie');\n    //obtenemos los resultados\n    const resultados = await fechtpopulares('movie');\n    //los cargamso en el DOM\n    cargartitulos(resultados);\n\n    filtroserie.classList.remove('btn--active')\n    filtropelicula.classList.add('btn--active')\n\n    document.querySelector('#populares .main__titulo').innerText = 'peliculas populares'\n})\n\nfiltroserie.addEventListener('click', async(e) =>{\n    e.preventDefault();\n\n    cargargeneros('tv');\n\n    const resultados = await fechtpopulares('tv');\n    \n    cargartitulos(resultados);\n\n    filtropelicula.classList.remove('btn--active')\n    filtroserie.classList.add('btn--active')\n\n    document.querySelector('#populares .main__titulo').innerText = 'series populares'\n\n})","import fechtpopulares from \"./fetchpopulares\";\nimport cargartitulos from \"./cargartitulos\";\nimport cargargeneros from \"./cargargneros\";\nimport './lisenerfiltrofijo'\n\nconst cargar = async () => {\n    const resultados = await fechtpopulares();\n    cargartitulos(resultados);\n    cargargeneros('movie');\n}\n\ncargar();\ncargargeneros();\n\n\n"],"names":[],"mappings":"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"}